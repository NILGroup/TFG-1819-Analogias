\chapter{Servicios Web Implementados}
\label{cap:serviciosWebImplementados}


%-------------------------------------------------------------------
\section{Servicio Web Para ConceptNet}
%-------------------------------------------------------------------
\label{cap:sec:servicioConceptnet}

Se ha implementado un Servicio Web que obtiene los resultados de ConceptNet, una red semántica que al introducir una palabra se obtienen sinónimos y términos relacionados de la misma (dicha red semántica ha sido descrita detalladamente en el apartado \ref{cap:subsec:concepnet}).

\figura{Bitmap/Capitulo5/ejemploConceptnet}{width=1.0\textwidth}{fig:conceptnet}{Interfaz del Servicio Web para ConceptNet}

El Servicio Web implementado consta de tres servicios, como se puede ver en la Figura \ref{fig:conceptnet}. El primero, cuando se introduce en el campo de texto una palabra en castellano, se realiza una consulta a la API de ConceptNet y se muestran todos los sinónimos obtenidos para dicha palabra. El segundo, al introducir una palabra se realiza otra consulta a la API de ConceptNet, pero esta vez en lugar de obtener los sinónimos, se obtienen los términos relacionados.

Por último, el tercer servicio utiliza los servicios 1 y 2 para obtener los sinónimos y términos relacionados de la palabra deseada, y buscar los resultados obtenidos, en la lista de ``las 1000 palabras más utilizadas del castellano según la RAE'' y en caso de encontrar alguna coincidencia, mostrarla. Este servicio, consta de un selector numérico en el que se le debe de indicar la profundidad de la búsqueda (por defecto, la profundidad es 1). Con el valor 1, se realizará el proceso descrito anteriormente y si no encuentra ninguna coincidencia se mostrará el mensaje: ``No hay resultados''. Sin embargo, si se introduce una profundidad mayor, por ejemplo 2, se repetirá el proceso con los resultados obtenidos en la profundidad anterior si no se ha encontrado ninguna palabra que coincida, es decir, si no hay coincidencias entre los resultados y la lista de ``las 1000 palabras más utilizadas del castellano según la RAE'', se vuelve a llamar a los servicios 1 y 2 y se buscan los sinónimos y los términos relacionados de los de los sinónimos y términos relacionados obtenidos en el proceso anterior, y con esos nuevos resultados, se vuelve a hacer la búsqueda en la lista para encontrar coincidencias.

En caso de que la búsqueda encuentre alguna coincidencia, se generará una comparación entre la palabra que se ha introducido con cada una de las palabras encontradas, y se indicará en que nivel de profundidad se ha tenido éxito en la búsqueda. Dependiendo de que tipo de palabra haya coincidido y en que nivel, se generará una comparación u otra:
\begin{itemize}
	\item Si la palabra que coincide es un sinónimo de la palabra original  y se ha encontrado en la profundidad 1: se entiende que hay mucha similitud entre ambas por lo que se generará ``A es como B'' por ejemplo, si se ha introducido ``hogar'' y el servicio 3 ha encontrado ``casa'' como sinónimo en el nivel 1 de profundidad, se mostrará: ``hogar es casa''.
	
	\item En cualquier otro caso, se entiende que la similitud es más baja por lo que la comparación pasa a ser ``A es como B'' por ejemplo, si se ha introducido ``casa'' y se ha encontrado como término relacionado en la profundidad 1 ``edificio'' la comparación será: ``casa es como edificio''.
\end{itemize}


%-------------------------------------------------------------------
\section{Servicio Web para WordNet}
%-------------------------------------------------------------------
\label{cap:sec:servicioWordnet}

Para la implementación y desarrollo del servicio web, se ha hecho uso de MCR (\textit{Multilingual Central Repository}), el cuál es una base de datos de código abierto que integra distintas versiones de WordNet para seis lenguajes diferentes: Inglés, Español, Catalán, Vasco, Gallego y Portugués. 
Lo que se consigue al utilizar MCR es poder acceder a la base de datos de WordNet y obtener los resultados que dicha aplicación.
Como se puede ver en la Figura \ref{fig:textoWordnet}, el usuario dispone de un campo de texto donde puede introducir únicamente una palabra. Cuando se pulsa el botón de enviar, se capta dicho concepto mediante una petición POST a través de un formulario.
Al tener la base de datos de WordNet, podemos realizar consultas directamente para obtener los resultados en función de si se buscan sinónimos, hiperónimos o hipónimos, y aunque la base de datos es mysql, al estar utilizando el framework Django este no admite la realización de \textit{querys} si no que utiliza \textit{querysets}.  Las \textit{querysets} son listas de objetos de un modelo determinado y permiten leer los datos de la base de datos, filtrarlos y ordenarlos.
Por lo que el siguiente paso, es realizar una \textit{queryset} para obtener todas las filas filtrando por el nombre, posteriormente se busca por separado los sinónimos, los hiperónimos y los hipónimos. Para ello, se vuelve a realizar una \textit{queryset} donde el filtro de búsqueda es que tengan el mismo \textit{offset}, el \textit{offset} es un ``identificador'' del \textit{synset} que lo tienen todas las palabras que lo forman.
Una vez obtenidos los sinónimos, hiperónimos e hipónimos de la base de datos, se realiza una búsqueda en un fichero csv que tiene las mil palabras de la RAE quedándose con las palabras que se encuentren en dicho fichero.
Los resultados se guardan en un diccionario cuyas claves son``sinónimos'',``hipónimos'' e ``hiperónimos'' y se convierten a formato JSON. Una vez convertidos se pasan al HTML, donde se recorre y se muestra como en la Figura \ref{fig:resultadoWordnet} donde los resultados se han dividido en 6 campos: Sinónimos que coinciden con las palabras que forman las mil palabras de la RAE, Sinónimos que devuelve la aplicación de WordNet, y de la misma manera para los hipónimos y los hiperónimos.
Por último, el usuario dispone de un botón como el de la Figura \ref{fig:resultadoJSON} para ver los resultados que coinciden con las mil palabras de la RAE en formato JSON.
\figura{Bitmap/Capitulo5/jsonWordnet}{width=1.2\textwidth}{fig:resultadoJSON}{Resultados en formato JSON para el Servicio Web de WordNet}
\figura{Bitmap/Capitulo5/campoTextoWordnet}{width=1.0\textwidth}{fig:textoWordnet}{Campo de texto para introducir una palabra}
\figura{Bitmap/Capitulo5/WordNet}{width=1.0\textwidth}{fig:resultadoWordnet}{Resultados obtenidos para el Servicio Web de WordNet}


%-------------------------------------------------------------------
\section{Pruebas Estadísticas}
%-------------------------------------------------------------------
\label{cap:sec:pruebasEstadisticas}
Una vez realizados los distintos servicios web, los integrantes del grupo deben elegir cuál de ellos devuelve más resultados y si estos son fiables y se pueden utilizar, ya que puede ser que los resultados obtenidos difieran mucho del concepto inicial a buscar.
Es por ello que se realizaron varias pruebas introduciendo palabras al servicio 3 para medir cuantos de los sinónimos y términos relacionados generados, coincidían con las listas de ``las 1000 palabras más utilizadas del castellano según la RAE'', ``las 5000 palabras más utilizadas del castellano según la RAE'' y ``las 10000 palabras más utilizadas del castellano según la RAE''. Se buscó un artículo periodístico que constaba de 2.542 palabras, que tras un filtrado en el que se eliminaron aquellas formas que no eran verbos, nombres, adverbios o adjetivos así como las repeticiones, el número final de palabras para la prueba fue de 717. A continuación, se introdujeron estas palabras en el prototipo de ConceptNet y de WordNet generando unos resultados que se describirán a continuación.

\subsection{Estadística para ConceptNet}
\label{cap:subsec:pruebaConceptnet}

Para esta prueba se valoraron tres parámetros:
\begin{itemize}
	\item Cantidad de palabras con algún sinónimo.
	\item Cantidad de palabras con algún término relacionado.
	\item Cantidad de palabras de las que no se obtuvo ningún sinónimo ni término relacionado.
\end{itemize}


Como se puede observar en la Figura \ref{fig:resultadosConceptnet}, contrastando los resultados con la lista de las 1.000 palabras, no se obtuvo ningún resultado para 565 palabras(78,8\%),  obteniendo un total de 173 coincidencias (51 sinónimos y 122 términos relacionados).

\figura{Bitmap/Capitulo5/resultadosConceptnet}{width=1.0\textwidth}{fig:resultadosConceptnet}{Resultados obtenidos para el Servicio Web de ConceptNet con la lista de 1000 palabras}

Aumentando la lista de palabras a 5.000, los resultados mejoran con respecto a la lista anterior, aumentando a 362 las coincidencias, como se puede comprobar en la Figura \ref{fig:resultadosConceptnet5000}, lo que supone un aumento del 109\%. Los sinónimos encontrados son 94 (aumento del 84\%) y los términos relacionados son 268(aumento del 120\%), por otra parte las palabras de las que no se obtuvo ninguna coincidencia pasaron a ser 428 (una reducción del 24\%).

\figura{Bitmap/Capitulo5/resultadosConceptnet5000}{width=1.0\textwidth}{fig:resultadosConceptnet5000}{Resultados obtenidos para el Servicio Web de ConceptNet con la lista de 5000 palabras}

Por último, se probó con la lista de 10.000 palabras obteniendo unos resultados de 423 coincidencias totales como se puede comprobar en la Figura \ref{fig:resultadosConceptnet10000} (aumento del 16\% con respecto a la lista de 5.000 palabras). 112 sinónimos(aumento del 19\%) y 311 términos relacionados (aumento del 16\%). La palabras que no obtuvieron ningún resultado fueron 387 (disminución del 10\%).

\figura{Bitmap/Capitulo5/resultadosConceptnet10000}{width=1.0\textwidth}{fig:resultadosConceptnet10000}{Resultados obtenidos para el Servicio Web de ConceptNet con la lista de 10000 palabras}


\subsection{Estadística para WordNet}
\label{cap:subsec:pruebaWordnet}


\subsection{Conclusiones}
\label{cap:subsec:conclusionesPruebas}